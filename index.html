<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Campbell's Productivity Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="dashboard-header">
    <h1><i class="fas fa-chart-line"></i> Campbell's Productivity Dashboard</h1>
    <div class="header-actions">
      <button id="add-project-btn" class="primary-btn">
        <i class="fas fa-plus"></i> New Project
      </button>
      <button id="view-toggle" class="secondary-btn">
        <i class="fas fa-th-large"></i> Board View
      </button>
      <button id="focus-toggle" class="secondary-btn">
        <i class="fas fa-bullseye"></i> Focus Mode
      </button>
      <button id="stats-toggle" class="secondary-btn">
        <i class="fas fa-chart-bar"></i> Stats
      </button>
      <button id="archive-toggle" class="secondary-btn">
        <i class="fas fa-archive"></i> Archive
      </button>
      <button id="goals-toggle" class="secondary-btn">
        <i class="fas fa-bullseye"></i> Goals
      </button>
      <button id="theme-toggle" class="secondary-btn" title="Toggle dark mode">
        <i class="fas fa-moon"></i>
      </button>
      <button id="undo-btn" class="secondary-btn" title="Undo (Ctrl+Z)">
        <i class="fas fa-undo"></i>
      </button>
      <button id="redo-btn" class="secondary-btn" title="Redo (Ctrl+Shift+Z)">
        <i class="fas fa-redo"></i>
      </button>
    </div>
  </header>

  <div class="dashboard-container">
    <!-- Project View -->
    <div id="project-view" class="view-container active">
      <div class="projects-grid" id="projects-container">
        <!-- Projects will be dynamically inserted here -->
      </div>
    </div>

    <!-- Board View -->
    <div id="board-view" class="view-container">
      <div class="boards-container">
        <section id="execution" class="board">
          <div class="board-header">
            <h2><i class="fas fa-rocket"></i> Execution Board</h2>
            <span class="task-count" id="exec-count">0</span>
          </div>
          <div class="board-content">
            <ul id="execution-list" class="task-list"></ul>
            <button id="add-exec" class="add-task-btn">
              <i class="fas fa-plus"></i> Add Task
            </button>
          </div>
        </section>
        <section id="incubation" class="board">
          <div class="board-header">
            <h2><i class="fas fa-lightbulb"></i> Incubation Board</h2>
            <span class="task-count" id="incub-count">0</span>
          </div>
          <div class="board-content">
            <ul id="incubation-list" class="task-list"></ul>
            <button id="add-incub" class="add-task-btn">
              <i class="fas fa-plus"></i> Add Task
            </button>
          </div>
        </section>
      </div>
    </div>

    <!-- Focus View -->
    <div id="focus-view" class="view-container">
      <div class="focus-header">
        <div class="focus-title-section">
          <h2><i class="fas fa-bullseye"></i> Focus Mode</h2>
          <div class="focus-timer-section">
            <div class="focus-timer" id="focus-timer">00:00</div>
            <div class="focus-controls">
              <button id="pause-focus" class="timer-control-btn" title="Pause focus session">
                <i class="fas fa-pause"></i>
              </button>
            </div>
          </div>
        </div>
        
        <!-- Pomodoro Timer Section -->
        <div class="pomodoro-section" id="pomodoro-section" style="display: none;">
          <div class="pomodoro-timer-display">
            <div class="pomodoro-phase" id="pomodoro-phase">üçÖ Ready</div>
            <div class="pomodoro-timer" id="pomodoro-timer">25:00</div>
            <div class="pomodoro-round" id="pomodoro-round">Round 0</div>
          </div>
          <div class="pomodoro-controls">
            <button id="pause-pomodoro" class="timer-control-btn" title="Pause Pomodoro">
              <i class="fas fa-pause"></i>
            </button>
            <button id="resume-pomodoro" class="timer-control-btn" title="Resume Pomodoro">
              <i class="fas fa-play"></i>
            </button>
            <button id="stop-pomodoro" class="timer-control-btn" title="Stop Pomodoro">
              <i class="fas fa-stop"></i>
            </button>
          </div>
        </div>
        <div class="focus-stats">
          <div class="stat-item">
            <span class="stat-number" id="completed-today">0</span>
            <span class="stat-label">Completed Today</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="time-today">0h</span>
            <span class="stat-label">Time Logged</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="focus-sessions-today">0</span>
            <span class="stat-label">Focus Sessions</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="total-focus-time">0h</span>
            <span class="stat-label">Total Focus Time</span>
          </div>
        </div>
      </div>
      <div class="focus-content">
        <div class="focus-section">
          <h3><i class="fas fa-exclamation-triangle"></i> Overdue Tasks</h3>
          <div id="overdue-tasks" class="focus-tasks"></div>
        </div>
        <div class="focus-section">
          <h3><i class="fas fa-calendar-day"></i> Due Today</h3>
          <div id="due-today-tasks" class="focus-tasks"></div>
        </div>
        <div class="focus-section">
          <h3><i class="fas fa-rocket"></i> Execution Board</h3>
          <div id="high-priority-tasks" class="focus-tasks"></div>
        </div>
      </div>
    </div>

    <!-- Archive View -->
    <div id="archive-view" class="view-container">
      <div class="archive-header">
        <h2><i class="fas fa-archive"></i> Archive</h2>
        <div class="archive-stats">
          <div class="stat-item">
            <span class="stat-number" id="archived-tasks-count">0</span>
            <span class="stat-label">Archived Tasks</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="archived-projects-count">0</span>
            <span class="stat-label">Archived Projects</span>
          </div>
        </div>
      </div>
      <div class="archive-content">
        <div class="archive-section">
          <h3><i class="fas fa-tasks"></i> Completed Tasks</h3>
          <div id="archived-tasks-list" class="archive-tasks"></div>
        </div>
        <div class="archive-section">
          <h3><i class="fas fa-folder"></i> Completed Projects</h3>
          <div id="archived-projects-list" class="archive-projects"></div>
        </div>
      </div>
    </div>

    <!-- Daily Planning Assistant Modal -->
    <div id="daily-planner-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-sun"></i> Plan Your Day</h3>
          <button class="close-btn" id="close-planner">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="planner-intro">
            <p>Good morning! Let's plan your day for maximum productivity. Select the tasks you want to focus on today:</p>
          </div>
          <div class="suggested-tasks">
            <h4><i class="fas fa-magic"></i> Suggested Tasks</h4>
            <div id="suggested-tasks-list" class="task-suggestions">
              <!-- Dynamically populated -->
            </div>
          </div>
          <div class="planning-actions">
            <button id="select-all-suggestions" class="secondary-btn">
              <i class="fas fa-check-double"></i> Select All
            </button>
            <button id="clear-all-suggestions" class="secondary-btn">
              <i class="fas fa-eraser"></i> Clear All
            </button>
          </div>
        </div>
        <div class="modal-footer">
          <button id="skip-planning" class="secondary-btn">Skip for Today</button>
          <button id="start-day" class="primary-btn">Start My Day</button>
        </div>
      </div>
    </div>

    <!-- Goals Modal -->
    <div id="goals-modal" class="modal">
      <div class="modal-content large">
        <div class="modal-header">
          <h3><i class="fas fa-target"></i> Goal Tracker</h3>
          <button class="close-btn" id="close-goals">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="goals-header">
            <button id="add-goal-btn" class="primary-btn">
              <i class="fas fa-plus"></i> New Goal
            </button>
          </div>
          <div class="goals-grid" id="goals-container">
            <!-- Goals will be dynamically inserted -->
          </div>
        </div>
      </div>
    </div>

    <!-- Goal Form Modal -->
    <div id="goal-form-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="goal-modal-title">Create New Goal</h3>
          <button class="close-btn" id="close-goal-form">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="goal-form">
            <div class="form-group">
              <label for="goal-title">Goal Title</label>
              <input type="text" id="goal-title" placeholder="e.g., Complete PhD Report" required>
            </div>
            <div class="form-group">
              <label for="goal-description">Description</label>
              <textarea id="goal-description" placeholder="What does success look like?"></textarea>
            </div>
            <div class="form-group">
              <label for="goal-due-date">Target Date</label>
              <input type="date" id="goal-due-date">
            </div>
            <div class="form-group">
              <label>Link Tasks to This Goal</label>
              <div id="task-selection" class="task-selection">
                <!-- Dynamically populated with available tasks -->
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="secondary-btn" id="cancel-goal-btn">Cancel</button>
          <button type="submit" form="goal-form" class="primary-btn" id="save-goal-btn">Save Goal</button>
        </div>
      </div>
    </div>

    <!-- Stats Modal -->
    <div id="stats-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Productivity Statistics</h3>
          <button class="close-btn" id="close-stats">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="stats-tabs">
            <button class="stats-tab active" data-tab="overview">
              <i class="fas fa-tachometer-alt"></i> Overview
            </button>
            <button class="stats-tab" data-tab="analytics">
              <i class="fas fa-chart-line"></i> Analytics
            </button>
            <button class="stats-tab" data-tab="insights">
              <i class="fas fa-lightbulb"></i> Insights
            </button>
          </div>
          
          <div class="stats-content">
            <!-- Overview Tab -->
            <div class="stats-tab-content active" id="overview-tab">
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-value" id="total-projects">0</div>
                  <div class="stat-title">Total Projects</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="completed-tasks">0</div>
                  <div class="stat-title">Completed Tasks</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="completion-rate">0%</div>
                  <div class="stat-title">Completion Rate</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value" id="streak-days">0</div>
                  <div class="stat-title">Streak Days</div>
                </div>
              </div>
            </div>
            
            <!-- Analytics Tab -->
            <div class="stats-tab-content" id="analytics-tab">
              <div class="analytics-section">
                <h4><i class="fas fa-chart-area"></i> Time vs Output Analytics</h4>
                <div class="chart-container">
                  <canvas id="productivity-chart"></canvas>
                </div>
                <div class="chart-controls">
                  <button id="chart-7days" class="chart-period-btn active">7 Days</button>
                  <button id="chart-30days" class="chart-period-btn">30 Days</button>
                  <button id="chart-90days" class="chart-period-btn">90 Days</button>
                </div>
              </div>
            </div>
            
            <!-- Insights Tab -->
            <div class="stats-tab-content" id="insights-tab">
              <div class="insights-section">
                <h4><i class="fas fa-fire"></i> Incubation Heatmap</h4>
                <p class="section-description">Visualize your idea generation patterns over time</p>
                <div class="heatmap-container">
                  <div class="heatmap-legend">
                    <span>Less</span>
                    <div class="legend-scale">
                      <div class="legend-cell" data-level="0"></div>
                      <div class="legend-cell" data-level="1"></div>
                      <div class="legend-cell" data-level="2"></div>
                      <div class="legend-cell" data-level="3"></div>
                      <div class="legend-cell" data-level="4"></div>
                    </div>
                    <span>More</span>
                  </div>
                  <div id="incubation-heatmap" class="incubation-heatmap"></div>
                </div>
              </div>
              <div class="insights-grid">
                <div class="insight-card">
                  <div class="insight-title">üî• Most Productive Day</div>
                  <div class="insight-value" id="most-productive-day">-</div>
                </div>
                <div class="insight-card">
                  <div class="insight-title">‚ö° Average Task Time</div>
                  <div class="insight-value" id="avg-task-time">-</div>
                </div>
                <div class="insight-card">
                  <div class="insight-title">üéØ Focus Efficiency</div>
                  <div class="insight-value" id="focus-efficiency">-</div>
                </div>
                <div class="insight-card">
                  <div class="insight-title">üìà Weekly Trend</div>
                  <div class="insight-value" id="weekly-trend">-</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal for adding/editing projects and tasks -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-title">Add New Project</h3>
        <button class="close-btn" id="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <form id="project-form">
          <div class="form-group">
            <label for="project-name">Project Name</label>
            <input type="text" id="project-name" placeholder="Enter project name..." required>
          </div>
          <div class="form-group">
            <label for="project-description">Description (Optional)</label>
            <textarea id="project-description" placeholder="Brief project description..."></textarea>
          </div>
          <div class="form-group">
            <label for="project-priority">Priority</label>
            <select id="project-priority">
              <option value="high">High</option>
              <option value="medium" selected>Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
          <div class="form-group">
            <label for="project-status">Status</label>
            <select id="project-status">
              <option value="execution" selected>Execution</option>
              <option value="incubation">Incubation</option>
            </select>
          </div>
          <div class="form-group">
            <label for="project-due-date">Due Date (Optional)</label>
            <input type="date" id="project-due-date">
          </div>
          <div class="form-group">
            <label for="project-estimated-time">Estimated Time (hours)</label>
            <input type="number" id="project-estimated-time" step="0.5" min="0" placeholder="0">
          </div>
          <div class="form-group">
            <label for="project-theme">Theme</label>
            <select id="project-theme" required>
              <option value="General">General</option>
              <option value="PhD">PhD</option>
              <option value="Startup">Startup</option>
              <option value="Personal">Personal</option>
              <option value="Work">Work</option>
              <option value="Health">Health</option>
              <option value="Learning">Learning</option>
            </select>
          </div>
          <div class="form-group">
            <label for="project-parent">Parent Project (Optional)</label>
            <select id="project-parent">
              <option value="">None - Top Level Project</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="secondary-btn" id="cancel-btn">Cancel</button>
        <button type="submit" form="project-form" class="primary-btn" id="save-btn">Save Project</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
